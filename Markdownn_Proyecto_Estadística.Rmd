---
title: "Markdown_Proyecto_Estad√≠stica"
author: "Alejandro_G√≥mez, Sebasti√°n_Badillo"
date: "`r Sys.Date()`"
output:
  rmdformats::readthedown: 
    toc_float: true   # Tabla de contenidos flotante
    toc_depth: 3      # Profundidad de la tabla de contenidos
    number_sections: true # Para numerar las secciones
---
# Introducci√≥n

Una pregunta constante que muchos se han hecho en alg√∫n momento de nuestra vida, es c√≥mo se puede aprovechar el tiempo de una mejor forma, como se logra alcanzar el verdadero potencial, esta pregunta ha paseado por la mente de muchas personas en todas las edades y contextos, dando lugar al desarrollo de muchas t√©cnicas de eficiencia, del c√≥mo aprender habilidades m√°s r√°pido y retenerlas en nuestra mente, c√≥mo usar el tiempo de manera m√°s eficiente, hay muchos profesionales dedicados a ayudar a las personas en este √°mbito. Sin embargo, a pesar de la gran cantidad de t√©cnicas que existen, diversos m√©todos, todos parten de lo mismo la materia prima que los agrupa a todos es el uso del tiempo, ¬øC√≥mo se usa el tiempo?. Esa es la pregunta que se tratar√° de abordar en este an√°lisis, ubicandos√© en el contexto colombiano, como se usa el tiempo en el pa√≠s del Sagrado coraz√≥n. A lo largo de esta investigaci√≥n se usar√° la estad√≠stica descriptiva para mostrar como los colombianos usan el tiempo.


## ¬øC√≥mo lo abordamos?

Para abordar el problema de c√≥mo los colombianos utilizan su tiempo, se emplear√° un enfoque basado en la estad√≠stica descriptiva. El an√°lisis se realizar√° usando el dataseet de [uso del tiempo]( https://microdatos.dane.gov.co/index.php/catalog/552/) que contiene informaci√≥n recopilada mediante entrevistas donde se muestra la cantidad de tiempo que las personas invierten en diferentes actividades a lo largo del d√≠a,usando para esto las actividades m√°s comunes a lo largo de nuetsro d√≠a como lo son: comer, dormir, leer, navegar en internet, hacer deporte.


El dataset incluye variables como el tiempo invertido en cada actividad distribuido en horas y minutos, para su an√°lisis ubicaremos cada variable en un csv independiente para facilitar su estudio y as√≠ solo trabajar con las que nos interesan . A partir de estos datos, calcularemos medidas estad√≠sticas b√°sicas como lo son la media, la moda. Adem√°s se har√°n gr√°ficos que permitan observar como se distribuyen los datos de acuerdo a los encuestados, se agrupar√°n en intervalos que permitan identificar los de mayor frecuencia.En adici√≥n, comparararemos las estad√≠sticas entre s√≠ para ver c√≥mo var√≠an y a qu√© se puede deber este cambio.

## Metodolog√≠a:

El an√°lisis de datos para este proyecto de Estad√≠stica I comenz√≥ con la selecci√≥n de un conjunto de datos adecuado. En este caso, se opt√≥ por utilizar el archivo "Cap√≠tulo I", principalmente debido a su tama√±o y la variedad de variables y filas que contiene, lo que proporciona una muestra representativa para el an√°lisis.

### 1. **Carga y Exploraci√≥n Inicial de los Datos**

El primer paso consisti√≥ en intentar abrir el archivo CSV en Excel para explorar su contenido, sin embargo, debido a su gran tama√±o, Excel no pudo manejar el archivo de manera eficiente. En su lugar, se utiliz√≥ R, espec√≠ficamente la librer√≠a data.table, que permiti√≥ cargar y visualizar r√°pidamente la estructura del archivo, manteniendo la eficiencia incluso con grandes vol√∫menes de datos.

A continuaci√≥n, se realiz√≥ un an√°lisis inicial de los datos, donde se identific√≥ un patr√≥n en la estructura de los nombres de las columnas. Por ejemplo, se observ√≥ que las actividades estaban identificadas con un c√≥digo base como "P1110S4", mientras que las horas y los minutos de cada actividad se encontraban en columnas con sufijos "_A1" (para horas) y "_A2" (para minutos). Este patr√≥n ofreci√≥ una gu√≠a inicial para la limpieza y organizaci√≥n de los datos.

###  2. **Limpieza de Datos**

El siguiente paso fue realizar una limpieza inicial de las columnas, basada en el patr√≥n observado. Se extrajeron las columnas que terminaban en "A1" (horas) y "A2" (minutos). Sin embargo, al analizar las columnas, se identificaron inconsistencias en el formato del archivo CSV. Algunas columnas segu√≠an el patr√≥n esperado (horas en "A1" y minutos en "A2"), pero otras no cumpl√≠an con esta estructura. En particular, se detect√≥ que para algunas actividades, las horas estaban en "A2" y los minutos en "A3".

Ante esta irregularidad, se decidi√≥ limpiar el dataset eliminando las columnas que no cumpl√≠an con el patr√≥n consistente de A1 (horas) y A2 (minutos). Para realizar esta limpieza, se revisaron las columnas del dataset y, en conjunto con el diccionario de variables proporcionado por el DANE, se identificaron y eliminaron aquellas columnas que no segu√≠an el patr√≥n de actividades con horas en A1 y minutos en A2.


![Limpieza de los datos](C:\Users\aleja\OneDrive\Pictures\pfe_datos_limpios.png)


###  3. **Unificaci√≥n de Columnas de Tiempo**

Una vez limpiado el dataset, se procedi√≥ a unificar las columnas de horas y minutos. Para esto, se cre√≥ una nueva columna que representara el tiempo total en minutos, calculando el tiempo de cada actividad como la suma de las horas (multiplicadas por 60) y los minutos. Durante este proceso, se trat√≥ el valor NA como un valor de 0, ya que, en el contexto del an√°lisis, era importante contar con un valor num√©rico para realizar los c√°lculos de manera correcta.

Una vez unificados los datos, se gener√≥ un nuevo archivo CSV con los tiempos de actividades convertidos a minutos. Este paso permiti√≥ tener una visi√≥n m√°s clara de las actividades realizadas por los individuos y sus respectivos tiempos asociados.

###  4. **An√°lisis Preliminar de Actividades**

Con el nuevo dataset que conten√≠a los tiempos unificados, se realiz√≥ un c√°lculo preliminar del promedio de tiempo y el n√∫mero de registros por actividad. El objetivo de este an√°lisis inicial fue identificar, de manera r√°pida, cu√°les eran las actividades con m√°s datos disponibles y aquellas que eran m√°s com√∫nmente reportadas. Este enfoque ayud√≥ a seleccionar las actividades de mayor relevancia para el an√°lisis posterior.

En este c√°lculo de promedio, es importante destacar que se excluyeron los valores de tiempo igual a 0 (ya que estos no representan una actividad v√°lida), y los valores NA fueron tratados como 0 en los c√°lculos. De esta forma, se obtuvieron estad√≠sticas significativas sobre la duraci√≥n promedio de las actividades.

### 5. **Selecci√≥n de Actividades Relevantes**

Una vez identificadas las actividades m√°s representadas, se seleccionaron las que presentaban el mayor n√∫mero de datos y las que, por su naturaleza, parec√≠an m√°s relevantes para el an√°lisis posterior. Con base en esta selecci√≥n, se extrajeron las columnas de tiempo unificado (horas y minutos) de cada una de las actividades seleccionadas.


## ¬øDe qu√© nos sirve el an√°lisis?

El an√°lisis proporcionar√° una comprensi√≥n clara y accesible sobre c√≥mo los colombianos utilizan su tiempo. Esto ser√° √∫til para los consumidores de este an√°lisis, en los siguientes aspectos:

-Informarse sobre el uso que le da al tiempo la poblaci√≥n colombiana en general, qu√© actividades son a las cuales se le invierte mayor cantidad de tiempo, en promedio c√≥mo distribuye el tiempo un colombiano.

-A modo de comparativa ya que podr√°n observar y contrastar los resultados con su manera personal de emplear el tiempo. Por lo que sabr√°n si est√°n por encima o por debajo de la media, si creen que aprovechan su tiempo de mejor manera que la poblaci√≥n en general o por el contrario lo usan en otras actividades.


-Como punto de partida para una mejora, al conocer los resultados del an√°lisis cada consumidor podr√° concluir si considera que se usa el tiempo de manera adecuada o provechosa desde su punto de vista o si por el contrario se gasta el recurso en actividades poco √∫tiles para el desarrollo del pa√≠s o personal.

# üì¶ Paquetes de R requeridos



## üìä ggplot2
El paquete `ggplot2` facilita la creaci√≥n de gr√°ficos de alta calidad en R mediante el uso de la **Gram√°tica de los Gr√°ficos**. Este enfoque permite construir visualizaciones de datos de manera estructurada y altamente personalizable. üé® Entre las funciones m√°s utilizadas se encuentran:

- `geom_histogram()` para crear histogramas üìä.
- `geom_density()` para gr√°ficos de densidad üìà.

**Ejemplo:**
```r
# Crear un gr√°fico de densidad con ggplot2
library(ggplot2)

ggplot(datos, aes(x = variable)) +
  geom_density(fill = "blue", alpha = 0.4) +
  labs(title = "Gr√°fico de Densidad", x = "Variable", y = "Densidad")
```
## üéØ fitdistrplus

El paquete `fitdistrplus` es una poderosa herramienta para ajustar distribuciones te√≥ricas a datos observados y evaluar su calidad de ajuste. üìê Es especialmente √∫til en an√°lisis estad√≠stico avanzado donde buscamos modelar datos de forma precisa.

#### üöÄ Caracter√≠sticas Principales
1. **Ajuste de Distribuciones**: Permite ajustar distribuciones comunes como:
   - Normal üåü.
   - Exponencial ‚ö°.
   - Gamma üé≤.
2. **Gr√°ficos Informativos**:
   - QQ-plots para comparar datos observados contra distribuciones ajustadas üìà.
   - Gr√°ficos de densidad superpuestos para observar visualmente el ajuste üé®.
3. **M√©tricas de Bondad de Ajuste**:
   - **AIC** (Criterio de Informaci√≥n de Akaike) y **BIC** (Criterio de Informaci√≥n Bayesiano) para comparar distribuciones üìä.
   - Pruebas estad√≠sticas como Kolmogorov-Smirnov y Anderson-Darling üìâ.

#### üíª Ejemplo en Acci√≥n
```r
# Instalar y cargar el paquete
install.packages("fitdistrplus")  # Instalar si no est√° ya instalado
library(fitdistrplus)

# Ajustar una distribuci√≥n normal a los datos
ajuste <- fitdist(datos$Tiempo_Minutos, "norm")  # Ajuste a una normal

# Resumen del ajuste
summary(ajuste)  # Muestra los par√°metros ajustados y las m√©tricas de bondad de ajuste

# Graficar resultados del ajuste
plot(ajuste)  # Incluye gr√°ficos como densidad, QQ-plot y m√°s
```

## üì¶ `data.table`: ¬°Manipulaci√≥n eficiente de datos en R! üöÄ

La librer√≠a **`data.table`** es una poderosa herramienta dise√±ada para trabajar con grandes conjuntos de datos de manera eficiente.Fue usada en la etapa de pre-procesamiento y liempieza de los datos. ‚ú® Es conocida por:

- **üöÑ Velocidad**: Ideal para operaciones r√°pidas en datos grandes (como filtros, res√∫menes y combinaciones).
- **üîß Sintaxis compacta**: Simplifica el c√≥digo en comparaci√≥n con `data.frame`, permitiendo escribir menos y hacer m√°s.
- **üîó Fusi√≥n de datos**: Soporta funciones avanzadas como `merge()` con alto rendimiento.
- **üîç Consultas r√°pidas**: Facilita la agrupaci√≥n y agregaci√≥n de datos.

¬°Perfecta para proyectos que manejan grandes vol√∫menes de informaci√≥n! üìäüíª

```r
# Instalar la librer√≠a (si a√∫n no est√° instalada)
install.packages("data.table")

# Cargar la librer√≠a
library(data.table)

# Crear un ejemplo simple
dt <- data.table(ID = 1:5, Score = c(90, 85, 88, 92, 95))

# Agregar una nueva columna con operaciones
dt[, Grade := ifelse(Score >= 90, "A", "B")]

# Mostrar el resultado
print(dt)

```
# Resultados

A continuaci√≥n se presentar√°n los distintos gr√°ficos obtenidos y c√≥mo se usaron encaminados a resolver la pregunta del estudio.

Como punto de partida se seleccionaron 7 variables a trabajar las cuales fueron:



1. **Dormir**: Una de las variables m√°s importantes, incluye tiempo de siestas.. üõå
2. **Comer**: Lo que nos permite recargarnos de energ√≠a durante el d√≠a. üçî
3. **Navegar en internet**: Explorar el mundo digital. üåê
4. **Leer**: Una m√©trica esencial que dice mucho de un pa√≠s. üìö
5. **Hacer deporte**: Mantenerse activo y saludable. üèÉ‚Äç‚ôÇÔ∏è
6. **Escuchar m√∫sica**: Las melod√≠as que acompa√±an nuestro d√≠a. üéµ
7. **Ver televisi√≥n**: Momento de entretenimiento con una serie o pel√≠cula. üì∫

## Analisis primario:

A cada una de las variables usadas se les  hiz√≥ un an√°lisis inicial, para conocer datos como el promedio de cada una, la moda, c√≥mo se distribuyen la mayor√≠a de sus datos, los cuales se recopilaron a continuaci√≥n:

![Tabla recopilatoria](C:\Users\aleja\Pictures\pfetablarecopilatoria.png)

En esta tabla podemos analizar tres medidas estad√≠sticas muy dicientes acerca de los datos, como lo son el promedio, la moda y la desviaci√≥n est√°ndar. Tener en cuenta que los resultados mostrados son en minutos.

A trav√©s de las cuales se pud√≥ observar algunos resultados como:

-  **Actividades con menos tiempo dedicado:** Las dos actividades con menor promedio son las de comer y leer, aunque  se debe tener en cuenta que el promedio es sensible a los outliers.
-  **Modas similares:** La mayor√≠a de actividades tiene modas similares, 60 minutos es la respuesta m√°s com√∫n de las personas en cuanto al tiempo que le dedican a actividades como comer, leer, hacer deporte, escuchar m√∫sica y navegar en internet.
- **Distribuci√≥n de los datos:** Con la desviaci√≥n est√°ndar se puede observar como est√°n distribuidos los datos alrededor de la media y su variaci√≥n. Es esperable que dormir sea la variable con mayor desviaci√≥n est√°ndar debido a que los minutos que se le dedican en promedio son mayores a los dem√°s. Tambi√©n se puede ver que a  la actividad de leer hay una desviaci√≥n amplia teniendo en cuenta que su promedio no es tan elevado, lo que  podr√≠a decir que hay personas que leen realmente muy poco y otras que leen m√°s que el promedio, por lo que no hay una concentraci√≥n significativa alrededor de la media. 



## An√°lisis de distribuci√≥n

El siguiente an√°lisis tambi√©n se le realiz√≥ a todas las variables, el an√°lisis de distribuci√≥n mediante histogramas permite conocer m√°s acerca de los datos de una forma visual, por ejemplo si su distribuci√≥n se acerca a la perfecci√≥n como la distribuci√≥n normal, si hay muchos outliers e identificar su dispersi√≥n y variabilidad.

A continuaci√≥n se presentar√°n algunos histogramas, centr√°ndonos en los que son diferentes:

![Histograma del sue√±o](C:\Users\aleja\OneDrive\Pictures\pfe_histograma_sue√±o.png)


![Histograma del tiempo en internet](C:\Users\aleja\OneDrive\Pictures\pfe_histograma_internet.png)



![Histograma del tiempo de lectura](C:\Users\aleja\OneDrive\Pictures\pfe_histograma_leer.png)




![Histograma del deporte](C:\Users\aleja\OneDrive\Pictures\pfe_histograma_deporte.png)



> **Sobre lo observado**: C√≥mo era de esperarse el sue√±o es la √∫nica variable que se asemeja un poco a una distribuci√≥n normal, ya que debido a su importancia las personas no se pueden dar el lujo de no dedicarle tiempo a esta actividad lo que hace que a diferencia de otras la mayor concentraci√≥n de los datos no se de alrededor de los 100 minutos.

> **Sobre la lectura y el deporte**: En la secci√≥n del deporte se puede ver que aunque hay personas que le dedican muy poco tiempo, son m√°s las personas que le dedican m√°s de una hora al d√≠a. Lo que es un resultado esperanzador ya que el deporte va asociado con la salud de una poblaci√≥n. En cuanto a la lectura, la gr√°fica nos dice que la mayor√≠a de las personas leen menos de una hora pero tambi√©n hay personas que dedican mucho m√°s tiempo que el promedio a esta actividad que muchos relacionan con la cultura de los pueblos.


## An√°lisis particulares

Con el fin de no hacer un an√°lisis plano y por igual de todas las variables, a algunas de ellas se les realizaron an√°lisis particulares, explorando algunas nuevas librer√≠as de R.

### Tiempo que le dedicamos a dormir

La variable del tiempo de sue√±o de los habitantes del pa√≠s nos pareci√≥ muy importante dada la relevancia que tiene este factor en la vida diaria y lo influyente que es en el cuerpo. Por lo que tratamos de agrupar los datos por categor√≠as de modo que sea m√°s diciente para el consumidor del an√°lisis.


![Distribuci√≥n del sue√±o](C:\Users\aleja\OneDrive\Pictures\pfe_rangos_sue√±o.png)

Como an√°lisis adicional se hiz√≥ uso de una librer√≠a llamada fitdistrplus para identificar si la distribuci√≥n de los datos se asemeja a una distribuci√≥n normal o una exponencial.

```{r, eval=FALSE}
##An√°lisis para ver a qu√© distribuci√≥n se ajusta m√°s si a la normal o la exponencial
install.packages("fitdistrplus")
library(fitdistrplus)
ajuste_normal <- fitdist(datos_sue√±o$Tiempo_Minutos, "norm")
ajuste_exponencial <- fitdist(datos_sue√±o$Tiempo_Minutos, "exp")
gofstat(list(ajuste_normal, ajuste_exponencial), fitnames = c("Normal", "Exponencial"))

```

Lo que arroj√≥ los siguientes resultados:



```{r, eval=FALSE}
Goodness-of-fit statistics
                                   Normal  Exponencial
Kolmogorov-Smirnov statistic    0.1521342 4.746324e-01
Cramer-von Mises statistic    377.5232446 7.945238e+03
Anderson-Darling statistic   1860.7754841 3.743784e+04

Goodness-of-fit criteria
                                Normal Exponencial
Akaike's Information Criterion 1495517     1787622
Bayesian Information Criterion 1495536     1787632 

```

Que luego de interpretarlos indican que la distribuci√≥n normal se ajusta mejor a la distribuci√≥n que la exponencial. Para esto el paquete usa esta m√©trica Kolmogorov-Smirnov (K-S) Statistic, que ayuda a concluir el resultado.

## Tiempo que le dedicamos a comer

Para esto se agruparon por categor√≠as de 15 minutos el tiempo dedicado a comer, resultando sorprendente que algunas personas dedican muy poco tiempo a esta actividad fundamental en la vida humana.




## Distribuci√≥n del tiempo en general

Para hacer un consolidado del tiempo en total que se gasta en el d√≠a a d√≠a y el porcentaje total que representan en un d√≠a, se realizaron dos gr√°ficas ilustrativas.

![Distribuci√≥n del d√≠a](C:\Users\aleja\OneDrive\Pictures\pfe_overview_actividades.png)

Se realiz√≥ la misma gr√°fica pero con un diagrama de barras

![Distribuci√≥n del d√≠a](C:\Users\aleja\OneDrive\Pictures\pfe_promedio_actividades.png)

## Comparaciones con otras referencias:

Para el caso del tiempo dedicado a escuchar m√∫sica, se realiz√≥ una comparaci√≥n con los promedios semanales de otros pa√≠ses del mundo. De modo que se pudiese tener una referencia, guardando la salvedad de que si bien se trata de la misma variable, se desconoce la cantidad de encuestados del estudio encontrado en internet.

Esta es una gr√°fica de la media semanal de horas que las personas escuchan m√∫sica.

![Gr√°fica de tiempo escuchando m√∫sica mundialmente](C:\Users\aleja\OneDrive\Pictures\pfe_comparacion_musica.png)

Haciendo uso de un comando muy popular como el sumary y un c√°lculo posterior se realiz√≥ el c√°lculo de la media semanal de tiempo que emplean las personas en colombia a escuchar m√∫sica.

```{r, eval=FALSE}

###C√°lculo de estad√≠sticas b√°sicas
summary(datos_musica1$Tiempo_Minutos)

> summary(datos_musica1$Tiempo_Minutos)
   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    1.0    60.0   120.0   160.2   180.0   840.0 

    
media_semanal <- (160.2 * 7) / 60.
# La media semanal es de 18.69

```

Con lo que se pudo observar que el tiempo que emplean las personas en Colombia a escuchar m√∫sica mientras hacen otras actividades est√° por encima de la media mundial.

## Identificaci√≥n de outliers

Al momento de realizar estad√≠sticas como el c√°lculo de los cuartiles se pudieron observar valores que resultaron raros en algunos casos por lo que para ciertas variables se decidi√≥ hacer un diagrama de bigotes con el fin de identificar los outliers. 


![Diagrama de bigotes](C:\Users\aleja\OneDrive\Pictures\pfe_bigotes.png)

En este caso se hizo para la gr√°fica del tiempo dedicado a comer por la poblaci√≥n colombiana. Identificando varios outliers por encima del limite superior.

# Conclusiones

En este proyecto, la dificultad principal radica en las limitaciones del dataset utilizado, el cual cubre una amplia variedad de actividades realizadas por personas de 10 a√±os en adelante, sin ninguna clasificaci√≥n que permita segmentar los datos por grupos etarios, socioecon√≥micos, o de otra √≠ndole relevante. Esta falta de categor√≠as claras reduce la capacidad para realizar comparativas precisas entre diferentes subgrupos de la poblaci√≥n, lo que, a su vez, limita el potencial de an√°lisis m√°s detallado y profundo. Sin una segmentaci√≥n adecuada, los patrones que podr√≠an emerger de un an√°lisis comparativo entre distintos grupos de personas no son f√°ciles de identificar ni de interpretar. Esta situaci√≥n subraya la importancia de contar con datasets bien estructurados y clasificados que permitan an√°lisis m√°s segmentados y, por ende, conclusiones m√°s robustas y precisas.

Ya que el contar con un dataset bien estructurado permite que la etapa del pre-procesamiento de los datos no sea tan extensa, por ejemplo con las casillas donde no se obten√≠a respuesta de los encuestados se recomendar√≠a marcarlo con un 0 y no dejarlas vac√≠as ya que al estar vac√≠as no es posible realizar un an√°lisis directo.